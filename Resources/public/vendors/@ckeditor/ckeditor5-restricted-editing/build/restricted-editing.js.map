{"version":3,"sources":["webpack://CKEditor5.restrictedEditing/webpack/bootstrap","webpack://CKEditor5.restrictedEditing/./theme/restrictedediting.css","webpack://CKEditor5.restrictedEditing//Users/pomek/Projects/ckeditor/ckeditor5/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://CKEditor5.restrictedEditing/./src/index.js","webpack://CKEditor5.restrictedEditing/./src/restrictededitingexceptioncommand.js","webpack://CKEditor5.restrictedEditing/./src/restrictededitingmode.js","webpack://CKEditor5.restrictedEditing/./src/restrictededitingmode/converters.js","webpack://CKEditor5.restrictedEditing/./src/restrictededitingmode/utils.js","webpack://CKEditor5.restrictedEditing/./src/restrictededitingmodeediting.js","webpack://CKEditor5.restrictedEditing/./src/restrictededitingmodenavigationcommand.js","webpack://CKEditor5.restrictedEditing/./src/restrictededitingmodeui.js","webpack://CKEditor5.restrictedEditing/./src/standardeditingmode.js","webpack://CKEditor5.restrictedEditing/./src/standardeditingmodeediting.js","webpack://CKEditor5.restrictedEditing/./src/standardeditingmodeui.js","webpack://CKEditor5.restrictedEditing/./theme/icons/contentlock.svg","webpack://CKEditor5.restrictedEditing/./theme/icons/contentunlock.svg","webpack://CKEditor5.restrictedEditing/./theme/restrictedediting.css?92b8","webpack://CKEditor5.restrictedEditing/delegated ./core.js from dll-reference CKEditor5.dll","webpack://CKEditor5.restrictedEditing/delegated ./engine.js from dll-reference CKEditor5.dll","webpack://CKEditor5.restrictedEditing/delegated ./ui.js from dll-reference CKEditor5.dll","webpack://CKEditor5.restrictedEditing/delegated ./utils.js from dll-reference CKEditor5.dll","webpack://CKEditor5.restrictedEditing/external \"CKEditor5.dll\""],"names":[],"mappings":";;;;;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA,wBAAwB,wEAAwE,+EAA+E,qEAAqE,iFAAiF,8EAA8E,mDAAmD,sCAAsC,yEAAyE,iBAAiB,kUAAkU,yFAAyF,kFAAkF,yTAAyT,0FAA0F,iBAAiB,gFAAgF,eAAe,4IAA4I,YAAY,2EAA2E,yEAAyE,C;;;;;;;;;;;;ACAr1D;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,6BAA6B;AACjD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;;;;;;;AC5QA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE4D;AACc;AACV;AACR;AACc;AACV;;AAE7C;AACf,CAAC,qFAAqB;AACtB,CAAC,mGAA4B;AAC7B,CAAC,yFAAuB;AACxB,CAAC,iFAAmB;AACpB,CAAC,+FAA0B;AAC3B,CAAC,qFAAqB;AACtB,CAAC,EAAC;;;;;;;;;;;;;ACvBF;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE6C;;AAE7C;AACA;AACA;AACe,gDAAgD,0DAAO;AACtE;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,uFAAuF,wBAAwB;AAC/G;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE4C;;AAE8B;AACV;;AAExB;;AAExC;AACA;AACA;AACA;AACA;AACA,UAAU,0HAA0H;AACpI,UAAU,2GAA2G;AACrH;AACA;AACA;AACe,oCAAoC,yDAAM;AACzD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,qEAA4B,EAAE,gEAAuB;AAChE;AACA;;AAEA;AACA;AACA,IAAI,4EAA4E;AAChF;AACA,iBAAiB,kFAAkF;AACnG;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,8BAA8B,4EAA4E;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,QAAQ,sEAAsE;AAC9E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,wGAAwG;AAC5G;AACA,YAAY,eAAe;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,eAAe;AAC3B;;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE+C;;AAED;;AAE9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,qEAAqE;AAC5E;AACA;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,kEAAmB;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,6CAA6C,sBAAsB;AACnE,6CAA6C,sBAAsB;AACnE,gDAAgD,sBAAsB;AACtE,gDAAgD,sBAAsB;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C,aAAa;AACb;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C,aAAa;AACb;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,0CAA0C;AACrD;AACA,WAAW,oDAAoD;AAC/D;AACA,WAAW,uCAAuC;AAClD;AACO;AACP;AACA,SAAS,SAAS;;AAElB,sBAAsB,4DAAO;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,SAAS,qCAAqC;AAC9C;;AAEA;AACA,4DAA4D,0BAA0B;AACtF,0DAA0D,0BAA0B;;AAEpF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA,uBAAuB,kEAAmB;;AAE1C;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,kEAAmB;;AAExC;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC9LA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI,iFAAiF;AACrF;AACA;AACA,WAAW,iCAAiC;AAC5C,WAAW,sCAAsC;AACjD,aAAa,sDAAsD;AACnE;AACO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C,WAAW,sCAAsC;AACjD,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,wCAAwC;AACnD,WAAW,4CAA4C;AACvD,aAAa;AACb;AACO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE4C;;AAE8C;AAM9C;AAC6C;;AAEzF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,2CAA2C,yDAAM;AAChE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,qEAAqE,+EAAkC;AACvG,iEAAiE,+EAAkC;AACnG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK,kGAAkG;AACvG;AACA,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,yCAAyC,iGAAuB;AAChE;AACA;AACA;AACA,IAAI;AACJ;AACA,mBAAmB;;AAEnB,yCAAyC,eAAe;AACxD;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH,yBAAyB,uGAA6B;AACtD,yBAAyB,2GAAiC;AAC1D;;AAEA,EAAE,oGAA0B;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2EAA2E,mBAAmB;;AAE9F;;AAEA;AACA;AACA;AACA,sFAAsF,mBAAmB;AACzG;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG,mBAAmB;;AAEzB;AACA;AACA;AACA;AACA;AACA,GAAG,GAAG,mBAAmB;;AAEzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iBAAiB,wFAAmB;;AAEpC;;AAEA,OAAO,wFAAmB;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,4CAA4C;AAC1D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,iCAAiC;AAC7C,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,wFAAmB;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,wFAAmB,+BAA+B,wFAAmB;;AAEtF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,QAAQ;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,wFAAmB;AAC1C,qBAAqB,wFAAmB;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACreA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE6C;;AAE7C;AACA;AACA;AACA;AACA;AACe,qDAAqD,0DAAO;AAC3E;AACA;AACA;AACA,YAAY,iCAAiC;AAC7C,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;;;;;;;;;;;;;ACpHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE4C;AACgC;AAC3B;;AAEK;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,sCAAsC,yDAAM;AAC3D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,uEAAc;AACtC,yBAAyB,8DAAU;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG,0EAAiB;;AAEpB;AACA;AACA,UAAU,oEAAQ;AAClB;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,sDAAK;AACnB;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACnGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE4C;;AAE0B;AACV;;AAEpB;;AAExC;AACA;AACA;AACA;AACA;AACA,UAAU,oHAAoH;AAC9H,UAAU,qGAAqG;AAC/G;AACA;AACA;AACe,kCAAkC,yDAAM;AACvD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,mEAA0B,EAAE,8DAAqB;AAC5D;AACA;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE4C;;AAEwC;;AAEpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,yCAAyC,yDAAM;AAC9D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,oDAAoD;;AAE5F;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,iCAAiC,SAAS;AAC1C;AACA;AACA,oDAAoD,wCAAwC,GAAG,gBAAgB;AAC/G;AACA;AACA,GAAG;;AAEH,yDAAyD,0EAAiC;;AAE1F;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAE4C;AACE;;AAEY;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACe,oCAAoC,yDAAM;AACzD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,2DAAU;;AAE9B;AACA,UAAU,sEAAU;AACpB;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;ACpDA;AAAe,inBAAkjB,E;;;;;;;;;;;;ACAjkB;AAAe,4mBAA6iB,E;;;;;;;;;;;ACA5jB,UAAU,mBAAO,CAAC,6JAA8E;AAChG,0BAA0B,mBAAO,CAAC,kKAAuF;;AAEzH;;AAEA;AACA,0BAA0B,QAAS;AACnC;;AAEA,eAAe,+CAA+C;;AAE9D;AACA;;AAEA;;;;AAIA,sC;;;;;;;;;;;AClBA,0H;;;;;;;;;;;ACAA,4H;;;;;;;;;;;ACAA,wH;;;;;;;;;;;ACAA,2H;;;;;;;;;;;ACAA,+B","file":"restricted-editing.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","module.exports = \":root{--ck-color-restricted-editing-exception-background:rgba(255,169,77,0.2);--ck-color-restricted-editing-exception-hover-background:rgba(255,169,77,0.35);--ck-color-restricted-editing-exception-brackets:rgba(204,105,0,0.4);--ck-color-restricted-editing-selected-exception-background:rgba(255,169,77,0.5);--ck-color-restricted-editing-selected-exception-brackets:rgba(204,105,0,0.6)}.ck-editor__editable .restricted-editing-exception{transition:background .2s ease-in-out;background-color:var(--ck-color-restricted-editing-exception-background);border:1px solid;border-image:linear-gradient(90deg,var(--ck-color-restricted-editing-exception-brackets) 0,var(--ck-color-restricted-editing-exception-brackets) 5px,transparent 6px,transparent calc(100% - 6px),var(--ck-color-restricted-editing-exception-brackets) calc(100% - 5px),var(--ck-color-restricted-editing-exception-brackets)) 1}.ck-editor__editable .restricted-editing-exception.restricted-editing-exception_selected{background-color:var(--ck-color-restricted-editing-selected-exception-background);border-image:linear-gradient(90deg,var(--ck-color-restricted-editing-selected-exception-brackets) 0,var(--ck-color-restricted-editing-selected-exception-brackets) 5px,var(--ck-color-restricted-editing-selected-exception-brackets) calc(100% - 5px),var(--ck-color-restricted-editing-selected-exception-brackets)) 1}.ck-editor__editable .restricted-editing-exception.restricted-editing-exception_collapsed{padding-left:1ch}.ck-restricted-editing_mode_restricted,.ck-restricted-editing_mode_restricted *{cursor:default}.ck-restricted-editing_mode_restricted .restricted-editing-exception,.ck-restricted-editing_mode_restricted .restricted-editing-exception *{cursor:text}.ck-restricted-editing_mode_restricted .restricted-editing-exception:hover{background:var(--ck-color-restricted-editing-exception-hover-background)}\"","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing\n */\n\nimport RestrictedEditingMode from './restrictededitingmode';\nimport RestrictedEditingModeEditing from './restrictededitingmodeediting';\nimport RestrictedEditingModeUI from './restrictededitingmodeui';\nimport StandardEditingMode from './standardeditingmode';\nimport StandardEditingModeEditing from './standardeditingmodeediting';\nimport StandardEditingModeUI from './standardeditingmodeui';\n\nexport default {\n\tRestrictedEditingMode,\n\tRestrictedEditingModeEditing,\n\tRestrictedEditingModeUI,\n\tStandardEditingMode,\n\tStandardEditingModeEditing,\n\tStandardEditingModeUI\n};\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/restrictededitingexceptioncommand\n */\n\nimport { Command } from 'ckeditor5/src/core';\n\n/**\n * @extends module:core/command~Command\n */\nexport default class RestrictedEditingExceptionCommand extends Command {\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tconst model = this.editor.model;\n\t\tconst doc = model.document;\n\n\t\tthis.value = !!doc.selection.getAttribute( 'restrictedEditingException' );\n\n\t\tthis.isEnabled = model.schema.checkAttributeInSelection( doc.selection, 'restrictedEditingException' );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\texecute( options = {} ) {\n\t\tconst model = this.editor.model;\n\t\tconst document = model.document;\n\t\tconst selection = document.selection;\n\t\tconst valueToSet = ( options.forceValue === undefined ) ? !this.value : options.forceValue;\n\n\t\tmodel.change( writer => {\n\t\t\tconst ranges = model.schema.getValidRanges( selection.getRanges(), 'restrictedEditingException' );\n\n\t\t\tif ( selection.isCollapsed ) {\n\t\t\t\tif ( valueToSet ) {\n\t\t\t\t\twriter.setSelectionAttribute( 'restrictedEditingException', valueToSet );\n\t\t\t\t} else {\n\t\t\t\t\tconst isSameException = value => value.item.getAttribute( 'restrictedEditingException' ) === this.value;\n\t\t\t\t\tconst exceptionStart = selection.focus.getLastMatchingPosition( isSameException, { direction: 'backward' } );\n\t\t\t\t\tconst exceptionEnd = selection.focus.getLastMatchingPosition( isSameException );\n\t\t\t\t\tconst focus = selection.focus;\n\n\t\t\t\t\twriter.removeSelectionAttribute( 'restrictedEditingException' );\n\n\t\t\t\t\tif ( !( focus.isEqual( exceptionStart ) || focus.isEqual( exceptionEnd ) ) ) {\n\t\t\t\t\t\twriter.removeAttribute( 'restrictedEditingException', writer.createRange( exceptionStart, exceptionEnd ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( const range of ranges ) {\n\t\t\t\t\tif ( valueToSet ) {\n\t\t\t\t\t\twriter.setAttribute( 'restrictedEditingException', valueToSet, range );\n\t\t\t\t\t} else {\n\t\t\t\t\t\twriter.removeAttribute( 'restrictedEditingException', range );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/restrictededitingmode\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\n\nimport RestrictedEditingModeEditing from './restrictededitingmodeediting';\nimport RestrictedEditingModeUI from './restrictededitingmodeui';\n\nimport '../theme/restrictedediting.css';\n\n/**\n * The restricted editing mode plugin.\n *\n * This is a \"glue\" plugin which loads the following plugins:\n *\n * * The {@link module:restricted-editing/restrictededitingmodeediting~RestrictedEditingModeEditing restricted mode editing feature}.\n * * The {@link module:restricted-editing/restrictededitingmodeui~RestrictedEditingModeUI restricted mode UI feature}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class RestrictedEditingMode extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'RestrictedEditingMode';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\treturn [ RestrictedEditingModeEditing, RestrictedEditingModeUI ];\n\t}\n}\n\n/**\n * The configuration of the restricted editing mode feature. Introduced by the\n * {@link module:restricted-editing/restrictededitingmode~RestrictedEditingMode} feature.\n *\n * Read more in {@link module:restricted-editing/restrictededitingmode~RestrictedEditingModeConfig}.\n *\n * @member {module:restricted-editing/restrictededitingmode~RestrictedEditingModeConfig}\n * module:core/editor/editorconfig~EditorConfig#restrictedEditing\n */\n\n/**\n * The configuration of the restricted editing mode feature.\n * The option is used by the {@link module:restricted-editing/restrictededitingmode~RestrictedEditingMode} feature.\n *\n *\t\tClassicEditor\n *\t\t\t.create( {\n * \t\t\t\trestrictedEditing: {\n * \t\t\t\t\tallowedCommands: [ 'bold', 'link', 'unlink' ],\n * \t\t\t\t\tallowedAttributes: [ 'bold', 'linkHref' ]\n * \t\t\t\t}\n *\t\t\t} )\n *\t\t\t.then( ... )\n *\t\t\t.catch( ... );\n *\n * See {@link module:core/editor/editorconfig~EditorConfig all editor options}.\n *\n * @interface module:restricted-editing/restrictededitingmode~RestrictedEditingModeConfig\n */\n\n/**\n * The command names allowed in non-restricted areas of the content.\n *\n * Defines which feature commands should be enabled in the restricted editing mode. The commands used for typing and deleting text\n * (`'input'`, `'delete'` and `'deleteForward'`) are allowed by the feature inside non-restricted regions and do not need to be defined.\n *\n * **Note**: The restricted editing mode always allows to use the restricted mode navigation commands as well as `'undo'` and `'redo'`\n * commands.\n *\n * The default value is:\n *\n *\t\tconst restrictedEditingConfig = {\n *\t\t\tallowedCommands: [ 'bold', 'italic', 'link', 'unlink' ]\n *\t\t};\n *\n * To make a command always enabled (also outside non-restricted areas) use\n * {@link module:restricted-editing/restrictededitingmodeediting~RestrictedEditingModeEditing#enableCommand} method.\n *\n * @member {Array.<String>} module:restricted-editing/restrictededitingmode~RestrictedEditingModeConfig#allowedCommands\n */\n\n/**\n * The text attribute names allowed when pasting content ot non-restricted areas.\n *\n * The default value is:\n *\n *\t\tconst restrictedEditingConfig = {\n *\t\t\tallowedAttributes: [ 'bold', 'italic', 'linkHref' ]\n *\t\t};\n *\n * @member {Array.<String>} module:restricted-editing/restrictededitingmode~RestrictedEditingModeConfig#allowedAttributes\n */\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/restrictededitingmode/converters\n */\n\nimport { Matcher } from 'ckeditor5/src/engine';\n\nimport { getMarkerAtPosition } from './utils';\n\nconst HIGHLIGHT_CLASS = 'restricted-editing-exception_selected';\n\n/**\n * Adds a visual highlight style to a restricted editing exception that the selection is anchored to.\n *\n * The highlight is turned on by adding the `.restricted-editing-exception_selected` class to the\n * exception in the view:\n *\n * * The class is removed before the conversion starts, as callbacks added with the `'highest'` priority\n * to {@link module:engine/conversion/downcastdispatcher~DowncastDispatcher} events.\n * * The class is added in the view post-fixer, after other changes in the model tree are converted to the view.\n *\n * This way, adding and removing the highlight does not interfere with conversion.\n *\n * @param {module:core/editor/editor~Editor} editor\n */\nexport function setupExceptionHighlighting( editor ) {\n\tconst view = editor.editing.view;\n\tconst model = editor.model;\n\tconst highlightedMarkers = new Set();\n\n\t// Adding the class.\n\tview.document.registerPostFixer( writer => {\n\t\tconst modelSelection = model.document.selection;\n\n\t\tconst marker = getMarkerAtPosition( editor, modelSelection.anchor );\n\n\t\tif ( !marker ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( const viewElement of editor.editing.mapper.markerNameToElements( marker.name ) ) {\n\t\t\twriter.addClass( HIGHLIGHT_CLASS, viewElement );\n\t\t\thighlightedMarkers.add( viewElement );\n\t\t}\n\t} );\n\n\t// Removing the class.\n\teditor.conversion.for( 'editingDowncast' ).add( dispatcher => {\n\t\t// Make sure the highlight is removed on every possible event, before conversion is started.\n\t\tdispatcher.on( 'insert', removeHighlight, { priority: 'highest' } );\n\t\tdispatcher.on( 'remove', removeHighlight, { priority: 'highest' } );\n\t\tdispatcher.on( 'attribute', removeHighlight, { priority: 'highest' } );\n\t\tdispatcher.on( 'selection', removeHighlight, { priority: 'highest' } );\n\n\t\tfunction removeHighlight() {\n\t\t\tview.change( writer => {\n\t\t\t\tfor ( const item of highlightedMarkers.values() ) {\n\t\t\t\t\twriter.removeClass( HIGHLIGHT_CLASS, item );\n\t\t\t\t\thighlightedMarkers.delete( item );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n}\n\n/**\n * A post-fixer that prevents removing a collapsed marker from the document.\n *\n * @param {module:core/editor/editor~Editor} editor\n * @returns {Function}\n */\nexport function resurrectCollapsedMarkerPostFixer( editor ) {\n\t// This post-fixer shouldn't be necessary after https://github.com/ckeditor/ckeditor5/issues/5778.\n\treturn writer => {\n\t\tlet changeApplied = false;\n\n\t\tfor ( const [ name, data ] of editor.model.document.differ._changedMarkers ) {\n\t\t\tif ( name.startsWith( 'restrictedEditingException' ) && data.newRange.root.rootName == '$graveyard' ) {\n\t\t\t\twriter.updateMarker( name, {\n\t\t\t\t\trange: writer.createRange( writer.createPositionAt( editor.model.document.selection.focus ) )\n\t\t\t\t} );\n\n\t\t\t\tchangeApplied = true;\n\t\t\t}\n\t\t}\n\n\t\treturn changeApplied;\n\t};\n}\n\n/**\n * A post-fixer that extends a marker when the user types on its boundaries.\n *\n * @param {module:core/editor/editor~Editor} editor\n * @returns {Function}\n */\nexport function extendMarkerOnTypingPostFixer( editor ) {\n\t// This post-fixer shouldn't be necessary after https://github.com/ckeditor/ckeditor5/issues/5778.\n\treturn writer => {\n\t\tlet changeApplied = false;\n\n\t\tfor ( const change of editor.model.document.differ.getChanges() ) {\n\t\t\tif ( change.type == 'insert' && change.name == '$text' ) {\n\t\t\t\tchangeApplied = _tryExtendMarkerStart( editor, change.position, change.length, writer ) || changeApplied;\n\t\t\t\tchangeApplied = _tryExtendMarkedEnd( editor, change.position, change.length, writer ) || changeApplied;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n}\n\n/**\n * A view highlight-to-marker conversion helper.\n *\n * @param {Object} config Conversion configuration.\n * @param {module:engine/view/matcher~MatcherPattern} [config.view] A pattern matching all view elements which should be converted. If not\n * set, the converter will fire for every view element.\n * @param {String|module:engine/model/element~Element|Function} config.model The name of the model element, a model element\n * instance or a function that takes a view element and returns a model element. The model element will be inserted in the model.\n * @param {module:utils/priorities~PriorityString} [config.converterPriority='normal'] Converter priority.\n */\nexport function upcastHighlightToMarker( config ) {\n\treturn dispatcher => dispatcher.on( 'element:span', ( evt, data, conversionApi ) => {\n\t\tconst { writer } = conversionApi;\n\n\t\tconst matcher = new Matcher( config.view );\n\t\tconst matcherResult = matcher.match( data.viewItem );\n\n\t\t// If there is no match, this callback should not do anything.\n\t\tif ( !matcherResult ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst match = matcherResult.match;\n\n\t\t// Force consuming element's name (taken from upcast helpers elementToElement converter).\n\t\tmatch.name = true;\n\n\t\tconst { modelRange: convertedChildrenRange } = conversionApi.convertChildren( data.viewItem, data.modelCursor );\n\t\tconversionApi.consumable.consume( data.viewItem, match );\n\n\t\tconst markerName = config.model( data.viewItem );\n\t\tconst fakeMarkerStart = writer.createElement( '$marker', { 'data-name': markerName } );\n\t\tconst fakeMarkerEnd = writer.createElement( '$marker', { 'data-name': markerName } );\n\n\t\t// Insert in reverse order to use converter content positions directly (without recalculating).\n\t\twriter.insert( fakeMarkerEnd, convertedChildrenRange.end );\n\t\twriter.insert( fakeMarkerStart, convertedChildrenRange.start );\n\n\t\tdata.modelRange = writer.createRange(\n\t\t\twriter.createPositionBefore( fakeMarkerStart ),\n\t\t\twriter.createPositionAfter( fakeMarkerEnd )\n\t\t);\n\t\tdata.modelCursor = data.modelRange.end;\n\t} );\n}\n\n// Extend marker if change detected on marker's start position.\nfunction _tryExtendMarkerStart( editor, position, length, writer ) {\n\tconst markerAtStart = getMarkerAtPosition( editor, position.getShiftedBy( length ) );\n\n\tif ( markerAtStart && markerAtStart.getStart().isEqual( position.getShiftedBy( length ) ) ) {\n\t\twriter.updateMarker( markerAtStart, {\n\t\t\trange: writer.createRange( markerAtStart.getStart().getShiftedBy( -length ), markerAtStart.getEnd() )\n\t\t} );\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\n// Extend marker if change detected on marker's end position.\nfunction _tryExtendMarkedEnd( editor, position, length, writer ) {\n\tconst markerAtEnd = getMarkerAtPosition( editor, position );\n\n\tif ( markerAtEnd && markerAtEnd.getEnd().isEqual( position ) ) {\n\t\twriter.updateMarker( markerAtEnd, {\n\t\t\trange: writer.createRange( markerAtEnd.getStart(), markerAtEnd.getEnd().getShiftedBy( length ) )\n\t\t} );\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/restrictededitingmode/utils\n */\n\n/**\n * Returns a single \"restricted-editing-exception\" marker at a given position. Contrary to\n * {@link module:engine/model/markercollection~MarkerCollection#getMarkersAtPosition}, it returnd a marker also when the postion is\n * equal to one of the marker's start or end positions.\n *\n * @param {module:core/editor/editor~Editor} editor\n * @param {module:engine/model/position~Position} position\n * @returns {module:engine/model/markercollection~Marker|undefined} marker\n */\nexport function getMarkerAtPosition( editor, position ) {\n\tfor ( const marker of editor.model.markers ) {\n\t\tconst markerRange = marker.getRange();\n\n\t\tif ( isPositionInRangeBoundaries( markerRange, position ) ) {\n\t\t\tif ( marker.name.startsWith( 'restrictedEditingException:' ) ) {\n\t\t\t\treturn marker;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Checks if the position is fully contained in the range. Positions equal to range start or end are considered \"in\".\n *\n * @param {module:engine/model/range~Range} range\n * @param {module:engine/model/position~Position} position\n * @returns {Boolean}\n */\nexport function isPositionInRangeBoundaries( range, position ) {\n\treturn (\n\t\trange.containsPosition( position ) ||\n\t\trange.end.isEqual( position ) ||\n\t\trange.start.isEqual( position )\n\t);\n}\n\n/**\n * Checks if the selection is fully contained in the marker. Positions on marker boundaries are considered \"in\".\n *\n *\t\t<marker>[]foo</marker> -> true\n *\t\t<marker>f[oo]</marker> -> true\n *\t\t<marker>f[oo</marker> ba]r -> false\n *\t\t<marker>foo</marker> []bar -> false\n *\n * @param {module:engine/model/selection~Selection} selection\n * @param {module:engine/model/markercollection~Marker} marker\n * @returns {Boolean}\n */\nexport function isSelectionInMarker( selection, marker ) {\n\tif ( !marker ) {\n\t\treturn false;\n\t}\n\n\tconst markerRange = marker.getRange();\n\n\tif ( selection.isCollapsed ) {\n\t\treturn isPositionInRangeBoundaries( markerRange, selection.focus );\n\t}\n\n\treturn markerRange.containsRange( selection.getFirstRange(), true );\n}\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/restrictededitingmodeediting\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\n\nimport RestrictedEditingNavigationCommand from './restrictededitingmodenavigationcommand';\nimport {\n\textendMarkerOnTypingPostFixer,\n\tresurrectCollapsedMarkerPostFixer,\n\tsetupExceptionHighlighting,\n\tupcastHighlightToMarker\n} from './restrictededitingmode/converters';\nimport { getMarkerAtPosition, isSelectionInMarker } from './restrictededitingmode/utils';\n\nconst COMMAND_FORCE_DISABLE_ID = 'RestrictedEditingMode';\n\n/**\n * The restricted editing mode editing feature.\n *\n * * It introduces the exception marker group that renders to `<span>` elements with the `restricted-editing-exception` CSS class.\n * * It registers the `'goToPreviousRestrictedEditingException'` and `'goToNextRestrictedEditingException'` commands.\n * * It also enables highlighting exception markers that are selected.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class RestrictedEditingModeEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'RestrictedEditingModeEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor( editor ) {\n\t\tsuper( editor );\n\n\t\teditor.config.define( 'restrictedEditing', {\n\t\t\tallowedCommands: [ 'bold', 'italic', 'link', 'unlink' ],\n\t\t\tallowedAttributes: [ 'bold', 'italic', 'linkHref' ]\n\t\t} );\n\n\t\t/**\n\t\t * Command names that are enabled outside the non-restricted regions.\n\t\t *\n\t\t * @type {Set.<String>}\n\t\t * @private\n\t\t */\n\t\tthis._alwaysEnabled = new Set( [ 'undo', 'redo', 'goToPreviousRestrictedEditingException', 'goToNextRestrictedEditingException' ] );\n\n\t\t/**\n\t\t * Commands allowed in non-restricted areas.\n\t\t *\n\t\t * Commands always enabled combine typing feature commands: `'typing'`, `'delete'` and `'deleteForward'` with commands defined\n\t\t * in the feature configuration.\n\t\t *\n\t\t * @type {Set<string>}\n\t\t * @private\n\t\t */\n\t\tthis._allowedInException = new Set( [ 'input', 'delete', 'deleteForward' ] );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst editingView = editor.editing.view;\n\t\tconst allowedCommands = editor.config.get( 'restrictedEditing.allowedCommands' );\n\n\t\tallowedCommands.forEach( commandName => this._allowedInException.add( commandName ) );\n\n\t\tthis._setupConversion();\n\t\tthis._setupCommandsToggling();\n\t\tthis._setupRestrictions();\n\n\t\t// Commands & keystrokes that allow navigation in the content.\n\t\teditor.commands.add( 'goToPreviousRestrictedEditingException', new RestrictedEditingNavigationCommand( editor, 'backward' ) );\n\t\teditor.commands.add( 'goToNextRestrictedEditingException', new RestrictedEditingNavigationCommand( editor, 'forward' ) );\n\t\teditor.keystrokes.set( 'Tab', getCommandExecuter( editor, 'goToNextRestrictedEditingException' ) );\n\t\teditor.keystrokes.set( 'Shift+Tab', getCommandExecuter( editor, 'goToPreviousRestrictedEditingException' ) );\n\t\teditor.keystrokes.set( 'Ctrl+A', getSelectAllHandler( editor ) );\n\n\t\teditingView.change( writer => {\n\t\t\tfor ( const root of editingView.document.roots ) {\n\t\t\t\twriter.addClass( 'ck-restricted-editing_mode_restricted', root );\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Makes the given command always enabled in the restricted editing mode (regardless\n\t * of selection location).\n\t *\n\t * To enable some commands in non-restricted areas of the content use\n\t * {@link module:restricted-editing/restrictededitingmode~RestrictedEditingModeConfig#allowedCommands} configuration option.\n\t *\n\t * @param {String} commandName Name of the command to enable.\n\t */\n\tenableCommand( commandName ) {\n\t\tconst command = this.editor.commands.get( commandName );\n\n\t\tcommand.clearForceDisabled( COMMAND_FORCE_DISABLE_ID );\n\n\t\tthis._alwaysEnabled.add( commandName );\n\t}\n\n\t/**\n\t * Sets up the restricted mode editing conversion:\n\t *\n\t * * ucpast & downcast converters,\n\t * * marker highlighting in the edting area,\n\t * * marker post-fixers.\n\t *\n\t * @private\n\t */\n\t_setupConversion() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst doc = model.document;\n\n\t\t// The restricted editing does not attach additional data to the zones so there's no need for smarter markers managing.\n\t\t// Also, the markers will only be created when loading the data.\n\t\tlet markerNumber = 0;\n\n\t\teditor.conversion.for( 'upcast' ).add( upcastHighlightToMarker( {\n\t\t\tview: {\n\t\t\t\tname: 'span',\n\t\t\t\tclasses: 'restricted-editing-exception'\n\t\t\t},\n\t\t\tmodel: () => {\n\t\t\t\tmarkerNumber++; // Starting from restrictedEditingException:1 marker.\n\n\t\t\t\treturn `restrictedEditingException:${ markerNumber }`;\n\t\t\t}\n\t\t} ) );\n\n\t\t// Currently the marker helpers are tied to other use-cases and do not render a collapsed marker as highlight.\n\t\t// That's why there are 2 downcast converters for them:\n\t\t// 1. The default marker-to-highlight will wrap selected text with `<span>`.\n\t\teditor.conversion.for( 'downcast' ).markerToHighlight( {\n\t\t\tmodel: 'restrictedEditingException',\n\t\t\t// Use callback to return new object every time new marker instance is created - otherwise it will be seen as the same marker.\n\t\t\tview: () => {\n\t\t\t\treturn {\n\t\t\t\t\tname: 'span',\n\t\t\t\t\tclasses: 'restricted-editing-exception',\n\t\t\t\t\tpriority: -10\n\t\t\t\t};\n\t\t\t}\n\t\t} );\n\n\t\t// 2. But for collapsed marker we need to render it as an element.\n\t\t// Additionally the editing pipeline should always display a collapsed marker.\n\t\teditor.conversion.for( 'editingDowncast' ).markerToElement( {\n\t\t\tmodel: 'restrictedEditingException',\n\t\t\tview: ( markerData, { writer } ) => {\n\t\t\t\treturn writer.createUIElement( 'span', {\n\t\t\t\t\tclass: 'restricted-editing-exception restricted-editing-exception_collapsed'\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\teditor.conversion.for( 'dataDowncast' ).markerToElement( {\n\t\t\tmodel: 'restrictedEditingException',\n\t\t\tview: ( markerData, { writer } ) => {\n\t\t\t\treturn writer.createEmptyElement( 'span', {\n\t\t\t\t\tclass: 'restricted-editing-exception'\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\tdoc.registerPostFixer( extendMarkerOnTypingPostFixer( editor ) );\n\t\tdoc.registerPostFixer( resurrectCollapsedMarkerPostFixer( editor ) );\n\t\tmodel.markers.on( 'update:restrictedEditingException', ensureNewMarkerIsFlat( editor ) );\n\n\t\tsetupExceptionHighlighting( editor );\n\t}\n\n\t/**\n\t * Setups additional editing restrictions beyond command toggling:\n\t *\n\t * * delete content range trimming\n\t * * disabling input command outside exception marker\n\t * * restricting clipboard holder to text only\n\t * * restricting text attributes in content\n\t *\n\t * @private\n\t */\n\t_setupRestrictions() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst selection = model.document.selection;\n\t\tconst viewDoc = editor.editing.view.document;\n\n\t\tthis.listenTo( model, 'deleteContent', restrictDeleteContent( editor ), { priority: 'high' } );\n\n\t\tconst inputCommand = editor.commands.get( 'input' );\n\n\t\t// The restricted editing might be configured without input support - ie allow only bolding or removing text.\n\t\t// This check is bit synthetic since only tests are used this way.\n\t\tif ( inputCommand ) {\n\t\t\tthis.listenTo( inputCommand, 'execute', disallowInputExecForWrongRange( editor ), { priority: 'high' } );\n\t\t}\n\n\t\t// Block clipboard outside exception marker on paste.\n\t\tthis.listenTo( viewDoc, 'clipboardInput', function( evt ) {\n\t\t\tif ( !isRangeInsideSingleMarker( editor, selection.getFirstRange() ) ) {\n\t\t\t\tevt.stop();\n\t\t\t}\n\t\t}, { priority: 'high' } );\n\n\t\t// Block clipboard outside exception marker on cut.\n\t\tthis.listenTo( viewDoc, 'clipboardOutput', ( evt, data ) => {\n\t\t\tif ( data.method == 'cut' && !isRangeInsideSingleMarker( editor, selection.getFirstRange() ) ) {\n\t\t\t\tevt.stop();\n\t\t\t}\n\t\t}, { priority: 'high' } );\n\n\t\tconst allowedAttributes = editor.config.get( 'restrictedEditing.allowedAttributes' );\n\t\tmodel.schema.addAttributeCheck( onlyAllowAttributesFromList( allowedAttributes ) );\n\t\tmodel.schema.addChildCheck( allowTextOnlyInClipboardHolder );\n\t}\n\n\t/**\n\t * Sets up the command toggling which enables or disables commands based on the user selection.\n\t *\n\t * @private\n\t */\n\t_setupCommandsToggling() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst doc = model.document;\n\n\t\tthis._disableCommands( editor );\n\n\t\tthis.listenTo( doc.selection, 'change', this._checkCommands.bind( this ) );\n\t\tthis.listenTo( doc, 'change:data', this._checkCommands.bind( this ) );\n\t}\n\n\t/**\n\t * Checks if commands should be enabled or disabled based on the current selection.\n\t *\n\t * @private\n\t */\n\t_checkCommands() {\n\t\tconst editor = this.editor;\n\t\tconst selection = editor.model.document.selection;\n\n\t\tif ( selection.rangeCount > 1 ) {\n\t\t\tthis._disableCommands( editor );\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst marker = getMarkerAtPosition( editor, selection.focus );\n\n\t\tthis._disableCommands();\n\n\t\tif ( isSelectionInMarker( selection, marker ) ) {\n\t\t\tthis._enableCommands( marker );\n\t\t}\n\t}\n\n\t/**\n\t * Enables commands in non-restricted regions.\n\t *\n\t * @returns {module:engine/model/markercollection~Marker} marker\n\t * @private\n\t */\n\t_enableCommands( marker ) {\n\t\tconst editor = this.editor;\n\n\t\tconst commands = this._getCommandNamesToToggle( editor, this._allowedInException )\n\t\t\t.filter( name => this._allowedInException.has( name ) )\n\t\t\t.filter( filterDeleteCommandsOnMarkerBoundaries( editor.model.document.selection, marker.getRange() ) )\n\t\t\t.map( name => editor.commands.get( name ) );\n\n\t\tfor ( const command of commands ) {\n\t\t\tcommand.clearForceDisabled( COMMAND_FORCE_DISABLE_ID );\n\t\t}\n\t}\n\n\t/**\n\t * Disables commands outside non-restricted regions.\n\t *\n\t * @private\n\t */\n\t_disableCommands() {\n\t\tconst editor = this.editor;\n\t\tconst commands = this._getCommandNamesToToggle( editor )\n\t\t\t.map( name => editor.commands.get( name ) );\n\n\t\tfor ( const command of commands ) {\n\t\t\tcommand.forceDisabled( COMMAND_FORCE_DISABLE_ID );\n\t\t}\n\t}\n\n\t/**\n\t * Returns command names that should be toggleable.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor\n\t * @returns {Array.<String>}\n\t * @private\n\t */\n\t_getCommandNamesToToggle( editor ) {\n\t\treturn Array.from( editor.commands.names() )\n\t\t\t.filter( name => !this._alwaysEnabled.has( name ) );\n\t}\n}\n\n// Helper method for executing enabled commands only.\nfunction getCommandExecuter( editor, commandName ) {\n\treturn ( data, cancel ) => {\n\t\tconst command = editor.commands.get( commandName );\n\n\t\tif ( command.isEnabled ) {\n\t\t\teditor.execute( commandName );\n\t\t\tcancel();\n\t\t}\n\t};\n}\n\n// Helper for handling Ctrl+A keydown behaviour.\nfunction getSelectAllHandler( editor ) {\n\treturn ( data, cancel ) => {\n\t\tconst model = editor.model;\n\t\tconst selection = editor.model.document.selection;\n\t\tconst marker = getMarkerAtPosition( editor, selection.focus );\n\n\t\tif ( !marker ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If selection range is inside a restricted editing exception, select text only within the exception.\n\t\t//\n\t\t// Note: Second Ctrl+A press is also blocked and it won't select the entire text in the editor.\n\t\tconst selectionRange = selection.getFirstRange();\n\t\tconst markerRange = marker.getRange();\n\n\t\tif ( markerRange.containsRange( selectionRange, true ) || selection.isCollapsed ) {\n\t\t\tcancel();\n\n\t\t\tmodel.change( writer => {\n\t\t\t\twriter.setSelection( marker.getRange() );\n\t\t\t} );\n\t\t}\n\t};\n}\n\n// Additional filtering rule for enabling \"delete\" and \"deleteForward\" commands if selection is on range boundaries:\n//\n// Does not allow to enable command when selection focus is:\n// - is on marker start - \"delete\" - to prevent removing content before marker\n// - is on marker end - \"deleteForward\" - to prevent removing content after marker\nfunction filterDeleteCommandsOnMarkerBoundaries( selection, markerRange ) {\n\treturn name => {\n\t\tif ( name == 'delete' && markerRange.start.isEqual( selection.focus ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Only for collapsed selection - non-collapsed selection that extends over a marker is handled elsewhere.\n\t\tif ( name == 'deleteForward' && selection.isCollapsed && markerRange.end.isEqual( selection.focus ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n}\n\n// Ensures that model.deleteContent() does not delete outside exception markers ranges.\n//\n// The enforced restrictions are:\n// - only execute deleteContent() inside exception markers\n// - restrict passed selection to exception marker\nfunction restrictDeleteContent( editor ) {\n\treturn ( evt, args ) => {\n\t\tconst [ selection ] = args;\n\n\t\tconst marker = getMarkerAtPosition( editor, selection.focus ) || getMarkerAtPosition( editor, selection.anchor );\n\n\t\t// Stop method execution if marker was not found at selection focus.\n\t\tif ( !marker ) {\n\t\t\tevt.stop();\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Collapsed selection inside exception marker does not require fixing.\n\t\tif ( selection.isCollapsed ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Shrink the selection to the range inside exception marker.\n\t\tconst allowedToDelete = marker.getRange().getIntersection( selection.getFirstRange() );\n\n\t\t// Some features uses selection passed to model.deleteContent() to set the selection afterwards. For this we need to properly modify\n\t\t// either the document selection using change block...\n\t\tif ( selection.is( 'documentSelection' ) ) {\n\t\t\teditor.model.change( writer => {\n\t\t\t\twriter.setSelection( allowedToDelete );\n\t\t\t} );\n\t\t}\n\t\t// ... or by modifying passed selection instance directly.\n\t\telse {\n\t\t\tselection.setTo( allowedToDelete );\n\t\t}\n\t};\n}\n\n// Ensures that input command is executed with a range that is inside exception marker.\n//\n// This restriction is due to fact that using native spell check changes text outside exception marker.\nfunction disallowInputExecForWrongRange( editor ) {\n\treturn ( evt, args ) => {\n\t\tconst [ options ] = args;\n\t\tconst { range } = options;\n\n\t\t// Only check \"input\" command executed with a range value.\n\t\t// Selection might be set in exception marker but passed range might point elsewhere.\n\t\tif ( !range ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !isRangeInsideSingleMarker( editor, range ) ) {\n\t\t\tevt.stop();\n\t\t}\n\t};\n}\n\nfunction isRangeInsideSingleMarker( editor, range ) {\n\tconst markerAtStart = getMarkerAtPosition( editor, range.start );\n\tconst markerAtEnd = getMarkerAtPosition( editor, range.end );\n\n\treturn markerAtStart && markerAtEnd && markerAtEnd === markerAtStart;\n}\n\n// Checks if new marker range is flat. Non-flat ranges might appear during upcast conversion in nested structures, ie tables.\n//\n// Note: This marker fixer only consider case which is possible to create using StandardEditing mode plugin.\n// Markers created by developer in the data might break in many other ways.\n//\n// See #6003.\nfunction ensureNewMarkerIsFlat( editor ) {\n\tconst model = editor.model;\n\n\treturn ( evt, marker, oldRange, newRange ) => {\n\t\tif ( !oldRange && !newRange.isFlat ) {\n\t\t\tmodel.change( writer => {\n\t\t\t\tconst start = newRange.start;\n\t\t\t\tconst end = newRange.end;\n\n\t\t\t\tconst startIsHigherInTree = start.path.length > end.path.length;\n\n\t\t\t\tconst fixedStart = startIsHigherInTree ? newRange.start : writer.createPositionAt( end.parent, 0 );\n\t\t\t\tconst fixedEnd = startIsHigherInTree ? writer.createPositionAt( start.parent, 'end' ) : newRange.end;\n\n\t\t\t\twriter.updateMarker( marker, {\n\t\t\t\t\trange: writer.createRange( fixedStart, fixedEnd )\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\t};\n}\n\nfunction onlyAllowAttributesFromList( allowedAttributes ) {\n\treturn ( context, attributeName ) => {\n\t\tif ( context.startsWith( '$clipboardHolder' ) ) {\n\t\t\treturn allowedAttributes.includes( attributeName );\n\t\t}\n\t};\n}\n\nfunction allowTextOnlyInClipboardHolder( context, childDefinition ) {\n\tif ( context.startsWith( '$clipboardHolder' ) ) {\n\t\treturn childDefinition.name === '$text';\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/restrictededitingmodenavigationcommand\n */\n\nimport { Command } from 'ckeditor5/src/core';\n\n/**\n * The command that allows navigation across the exceptions in the edited document.\n *\n * @extends module:core/command~Command\n */\nexport default class RestrictedEditingModeNavigationCommand extends Command {\n\t/**\n\t * Creates an instance of the command.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor The editor instance.\n\t * @param {String} direction The direction that the command works. Can be either `'forward'` or `'backward'`.\n\t */\n\tconstructor( editor, direction ) {\n\t\tsuper( editor );\n\n\t\t/**\n\t\t * The direction of the command. Can be `'forward'` or `'backward'`.\n\t\t *\n\t\t * @readonly\n\t\t * @private\n\t\t * @member {String}\n\t\t */\n\t\tthis._direction = direction;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tthis.isEnabled = this._checkEnabled();\n\t}\n\n\t/**\n\t * Executes the command.\n\t *\n\t * @fires execute\n\t */\n\texecute() {\n\t\tconst position = getNearestExceptionRange( this.editor.model, this._direction );\n\n\t\tthis.editor.model.change( writer => {\n\t\t\twriter.setSelection( position );\n\t\t} );\n\t}\n\n\t/**\n\t * Checks whether the command can be enabled in the current context.\n\t *\n\t * @private\n\t * @returns {Boolean} Whether the command should be enabled.\n\t */\n\t_checkEnabled() {\n\t\treturn !!getNearestExceptionRange( this.editor.model, this._direction );\n\t}\n}\n\n// Returns the range of the exception marker closest to the last position of the\n// model selection.\n//\n// @param {module:engine/model/model~Model} model\n// @param {String} direction Either \"forward\" or \"backward\".\n// @returns {module:engine/model/range~Range|null}\nfunction getNearestExceptionRange( model, direction ) {\n\tconst selection = model.document.selection;\n\tconst selectionPosition = selection.getFirstPosition();\n\tconst markerRanges = [];\n\n\t// Get all exception marker positions that start after/before the selection position.\n\tfor ( const marker of model.markers.getMarkersGroup( 'restrictedEditingException' ) ) {\n\t\tconst markerRange = marker.getRange();\n\n\t\t// Checking parent because there two positions <paragraph>foo^</paragraph><paragraph>^bar</paragraph>\n\t\t// are touching but they will represent different markers.\n\t\tconst isMarkerRangeTouching =\n\t\t\tselectionPosition.isTouching( markerRange.start ) && selectionPosition.hasSameParentAs( markerRange.start ) ||\n\t\t\tselectionPosition.isTouching( markerRange.end ) && selectionPosition.hasSameParentAs( markerRange.end );\n\n\t\t// <paragraph>foo <marker≥b[]ar</marker> baz</paragraph>\n\t\t// <paragraph>foo <marker≥b[ar</marker> ba]z</paragraph>\n\t\t// <paragraph>foo <marker≥bar</marker>[] baz</paragraph>\n\t\t// <paragraph>foo []<marker≥bar</marker> baz</paragraph>\n\t\tif ( markerRange.containsPosition( selectionPosition ) || isMarkerRangeTouching ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif ( direction === 'forward' && markerRange.start.isAfter( selectionPosition ) ) {\n\t\t\tmarkerRanges.push( markerRange );\n\t\t} else if ( direction === 'backward' && markerRange.end.isBefore( selectionPosition ) ) {\n\t\t\tmarkerRanges.push( markerRange );\n\t\t}\n\t}\n\n\tif ( !markerRanges.length ) {\n\t\treturn null;\n\t}\n\n\t// Get the marker closest to the selection position among many. To know that, we need to sort\n\t// them first.\n\treturn markerRanges.sort( ( rangeA, rangeB ) => {\n\t\tif ( direction === 'forward' ) {\n\t\t\treturn rangeA.start.isAfter( rangeB.start ) ? 1 : -1;\n\t\t} else {\n\t\t\treturn rangeA.start.isBefore( rangeB.start ) ? 1 : -1;\n\t\t}\n\t} ).shift();\n}\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/restrictededitingmodeui\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\nimport { Model, createDropdown, addListToDropdown } from 'ckeditor5/src/ui';\nimport { Collection } from 'ckeditor5/src/utils';\n\nimport lockIcon from '../theme/icons/contentlock.svg';\n\n/**\n * The restricted editing mode UI feature.\n *\n * It introduces the `'restrictedEditing'` dropdown that offers tools to navigate between exceptions across\n * the document.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class RestrictedEditingModeUI extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'RestrictedEditingModeUI';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst t = editor.t;\n\n\t\teditor.ui.componentFactory.add( 'restrictedEditing', locale => {\n\t\t\tconst dropdownView = createDropdown( locale );\n\t\t\tconst listItems = new Collection();\n\n\t\t\tlistItems.add( this._getButtonDefinition(\n\t\t\t\t'goToPreviousRestrictedEditingException',\n\t\t\t\tt( 'Previous editable region' ),\n\t\t\t\t'Shift+Tab'\n\t\t\t) );\n\t\t\tlistItems.add( this._getButtonDefinition(\n\t\t\t\t'goToNextRestrictedEditingException',\n\t\t\t\tt( 'Next editable region' ),\n\t\t\t\t'Tab'\n\t\t\t) );\n\n\t\t\taddListToDropdown( dropdownView, listItems );\n\n\t\t\tdropdownView.buttonView.set( {\n\t\t\t\tlabel: t( 'Navigate editable regions' ),\n\t\t\t\ticon: lockIcon,\n\t\t\t\ttooltip: true,\n\t\t\t\tisEnabled: true,\n\t\t\t\tisOn: false\n\t\t\t} );\n\n\t\t\tthis.listenTo( dropdownView, 'execute', evt => {\n\t\t\t\teditor.execute( evt.source._commandName );\n\t\t\t\teditor.editing.view.focus();\n\t\t\t} );\n\n\t\t\treturn dropdownView;\n\t\t} );\n\t}\n\n\t/**\n\t * Returns a definition of the navigation button to be used in the dropdown.\n\t *\n\t * @private\n\t * @param {String} commandName The name of the command that the button represents.\n\t * @param {String} label The translated label of the button.\n\t * @param {String} keystroke The button keystroke.\n\t * @returns {module:ui/dropdown/utils~ListDropdownItemDefinition}\n\t */\n\t_getButtonDefinition( commandName, label, keystroke ) {\n\t\tconst editor = this.editor;\n\t\tconst command = editor.commands.get( commandName );\n\t\tconst definition = {\n\t\t\ttype: 'button',\n\t\t\tmodel: new Model( {\n\t\t\t\tlabel,\n\t\t\t\twithText: true,\n\t\t\t\tkeystroke,\n\t\t\t\twithKeystroke: true,\n\t\t\t\t_commandName: commandName\n\t\t\t} )\n\t\t};\n\n\t\tdefinition.model.bind( 'isEnabled' ).to( command, 'isEnabled' );\n\n\t\treturn definition;\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/standardeditingmode\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\n\nimport StandardEditingModeEditing from './standardeditingmodeediting';\nimport StandardEditingModeUI from './standardeditingmodeui';\n\nimport '../theme/restrictedediting.css';\n\n/**\n * The standard editing mode plugin.\n *\n * This is a \"glue\" plugin that loads the following plugins:\n *\n * * The {@link module:restricted-editing/standardeditingmodeediting~StandardEditingModeEditing standard mode editing feature}.\n * * The {@link module:restricted-editing/standardeditingmodeui~StandardEditingModeUI standard mode UI feature}.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class StandardEditingMode extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'StandardEditingMode';\n\t}\n\n\tstatic get requires() {\n\t\treturn [ StandardEditingModeEditing, StandardEditingModeUI ];\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/standardeditingmodeediting\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\n\nimport RestrictedEditingExceptionCommand from './restrictededitingexceptioncommand';\n\n/**\n * The standard editing mode editing feature.\n *\n * * It introduces the `restrictedEditingException` text attribute that is rendered as\n * a `<span>` element with the `restricted-editing-exception` CSS class.\n * * It registers the `'restrictedEditingException'` command.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class StandardEditingModeEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'StandardEditingModeEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\n\t\teditor.model.schema.extend( '$text', { allowAttributes: [ 'restrictedEditingException' ] } );\n\n\t\teditor.conversion.for( 'upcast' ).elementToAttribute( {\n\t\t\tmodel: 'restrictedEditingException',\n\t\t\tview: {\n\t\t\t\tname: 'span',\n\t\t\t\tclasses: 'restricted-editing-exception'\n\t\t\t}\n\t\t} );\n\n\t\teditor.conversion.for( 'downcast' ).attributeToElement( {\n\t\t\tmodel: 'restrictedEditingException',\n\t\t\tview: ( modelAttributeValue, { writer } ) => {\n\t\t\t\tif ( modelAttributeValue ) {\n\t\t\t\t\t// Make the restricted editing <span> outer-most in the view.\n\t\t\t\t\treturn writer.createAttributeElement( 'span', { class: 'restricted-editing-exception' }, { priority: -10 } );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\teditor.commands.add( 'restrictedEditingException', new RestrictedEditingExceptionCommand( editor ) );\n\n\t\teditor.editing.view.change( writer => {\n\t\t\tfor ( const root of editor.editing.view.document.roots ) {\n\t\t\t\twriter.addClass( 'ck-restricted-editing_mode_standard', root );\n\t\t\t}\n\t\t} );\n\t}\n}\n","/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module restricted-editing/standardeditingmodeui\n */\n\nimport { Plugin } from 'ckeditor5/src/core';\nimport { ButtonView } from 'ckeditor5/src/ui';\n\nimport unlockIcon from '../theme/icons/contentunlock.svg';\n\n/**\n * The standard editing mode UI feature.\n *\n * It introduces the `'restrictedEditingException'` button that marks text as unrestricted for editing.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class StandardEditingModeUI extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst t = editor.t;\n\n\t\teditor.ui.componentFactory.add( 'restrictedEditingException', locale => {\n\t\t\tconst command = editor.commands.get( 'restrictedEditingException' );\n\t\t\tconst view = new ButtonView( locale );\n\n\t\t\tview.set( {\n\t\t\t\ticon: unlockIcon,\n\t\t\t\ttooltip: true,\n\t\t\t\tisToggleable: true\n\t\t\t} );\n\n\t\t\tview.bind( 'isOn', 'isEnabled' ).to( command, 'value', 'isEnabled' );\n\t\t\tview.bind( 'label' ).to( command, 'value', value => {\n\t\t\t\treturn value ? t( 'Disable editing' ) : t( 'Enable editing' );\n\t\t\t} );\n\n\t\t\tthis.listenTo( view, 'execute', () => {\n\t\t\t\teditor.execute( 'restrictedEditingException' );\n\t\t\t\teditor.editing.view.focus();\n\t\t\t} );\n\n\t\t\treturn view;\n\t\t} );\n\t}\n}\n","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.5 6.5a3.5 3.5 0 0 1 3.495 3.308L19 10v2a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1v-2l.005-.192A3.5 3.5 0 0 1 15.5 6.5zm0 7.5a.5.5 0 0 0-.492.41L15 14.5v2a.5.5 0 0 0 .992.09L16 16.5v-2a.5.5 0 0 0-.5-.5zm0-6a2 2 0 0 0-2 2v2h4v-2a2 2 0 0 0-2-2zm-9.25 8a.75.75 0 1 1 0 1.5H.75a.75.75 0 1 1 0-1.5h5.5zm0-5a.75.75 0 1 1 0 1.5H.75a.75.75 0 1 1 0-1.5h5.5zm3-5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1 0-1.5h8.5zm6-5a.75.75 0 1 1 0 1.5H.75a.75.75 0 0 1 0-1.5h14.5z\\\"/></svg>\";","export default \"<svg viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M6.25 16a.75.75 0 1 1 0 1.5H.75a.75.75 0 1 1 0-1.5h5.5zm0-5a.75.75 0 1 1 0 1.5H.75a.75.75 0 1 1 0-1.5h5.5zm3-5a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1 0-1.5h8.5zm6-5a.75.75 0 1 1 0 1.5H.75a.75.75 0 0 1 0-1.5h14.5zm.25 5.5a3.5 3.5 0 0 1 3.143 1.959.75.75 0 0 1-1.36.636A2 2 0 0 0 13.5 10v2H19a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1v-2l.005-.192A3.5 3.5 0 0 1 15.5 6.5zm0 7.5a.5.5 0 0 0-.492.41L15 14.5v2a.5.5 0 0 0 .992.09L16 16.5v-2a.5.5 0 0 0-.5-.5z\\\"/></svg>\";","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/postcss-loader/src/index.js??ref--5-1!./restrictedediting.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {\"injectType\":\"singletonStyleTag\",\"attributes\":{\"data-cke\":true}};\n\noptions.insert = \"head\";\noptions.singleton = true;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","module.exports = (__webpack_require__(/*! dll-reference CKEditor5.dll */ \"dll-reference CKEditor5.dll\"))(\"./src/core.js\");","module.exports = (__webpack_require__(/*! dll-reference CKEditor5.dll */ \"dll-reference CKEditor5.dll\"))(\"./src/engine.js\");","module.exports = (__webpack_require__(/*! dll-reference CKEditor5.dll */ \"dll-reference CKEditor5.dll\"))(\"./src/ui.js\");","module.exports = (__webpack_require__(/*! dll-reference CKEditor5.dll */ \"dll-reference CKEditor5.dll\"))(\"./src/utils.js\");","module.exports = CKEditor5.dll;"],"sourceRoot":""}